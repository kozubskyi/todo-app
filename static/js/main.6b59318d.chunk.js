(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{18:function(t,o,e){},19:function(t,o,e){},21:function(t,o,e){},22:function(t,o,e){},23:function(t,o,e){},24:function(t,o,e){},25:function(t,o,e){"use strict";e.r(o);var n=e(1),s=e.n(n),d=e(8),i=e.n(d),a=e(5),c=e(3),r=e(9),l=e(10),u=e(12),b=e(11),m=(e(17),e(18),e(19),e(0)),j=function(t){var o=t.todos,e=t.filterTodos;return Object(m.jsxs)("header",{children:[Object(m.jsxs)("div",{className:"stats",children:[Object(m.jsx)("button",{className:"stats__btn stats__all-todos",children:o.length}),Object(m.jsx)("button",{className:"stats__btn stats__undone-todos",children:o.filter((function(t){return!t.completed})).length}),Object(m.jsx)("button",{className:"stats__btn stats__done-todos",children:o.filter((function(t){return t.completed})).length})]}),Object(m.jsx)("button",{className:"filter-btn",type:"button",onClick:e})]})},p=function(t){t.todos;var o=t.children;return Object(m.jsx)("ul",{className:"todo__list",children:o})},h=(e(21),function(t){var o,e=t.todos,n=t.upTodo,s=t.downTodo,d=t.handleTodoEdit,i=t.handleTodoDelete,a=t.onTodoClick;return Object(m.jsx)(m.Fragment,{children:(o=e,o.map((function(t){return Object(m.jsxs)("li",{className:"todo__item ".concat(t.type),children:[Object(m.jsx)("input",{type:"checkbox",id:t.id,onChange:function(){return a(t.id)},checked:t.completed}),Object(m.jsxs)("label",{htmlFor:t.id,children:["very-important"===t.type?Object(m.jsx)("span",{className:"emoji very-important",role:"img",children:"\u203c\ufe0f"}):"important"===t.type&&Object(m.jsx)("span",{className:"emoji important",role:"img",children:"\u2757\ufe0f"}),t.text]}),Object(m.jsxs)("div",{className:"move-todo-block",children:[Object(m.jsx)("button",{type:"button",className:"move-todo up-todo",onClick:function(){return n(o.indexOf(t))}}),Object(m.jsx)("button",{type:"button",className:"move-todo down-todo",onClick:function(){return s(o.indexOf(t))}})]}),Object(m.jsx)("button",{type:"button",className:"edit-todo",onClick:function(){return d(t.text,t.id)}}),Object(m.jsx)("button",{type:"button",className:"delete-todo",onClick:function(){return i(t.id)}})]},t.id)})))})}),f=e(2),O=e(27),x=(e(22),function(t){t.todos;var o,e,s=t.handleFormSubmit,d=Object(n.useState)(""),i=Object(f.a)(d,2),a=i[0],c=i[1],r=Object(n.useState)("standart"),l=Object(f.a)(r,2),u=l[0],b=l[1],j=Object(n.useState)(["\u0421\u0445\u043e\u0434\u0438\u0442\u044c \u043d\u0430 \u0444\u0443\u0442\u0431\u043e\u043b","\u041a\u0443\u043f\u0438\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b","\u041d\u0430\u0432\u0435\u0441\u0442\u0438\u0442\u044c \u0440\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u043e\u0432","\u041a\u0443\u043f\u0438\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a","\u041f\u043e\u043c\u044b\u0442\u044c \u043f\u043e\u0441\u0443\u0434\u0443","\u041f\u0440\u0438\u0431\u0440\u0430\u0442\u044c\u0441\u044f \u0432 \u0434\u043e\u043c\u0435","\u041f\u043e\u0447\u0438\u043d\u0438\u0442\u044c \u0447\u0442\u043e-\u0442\u043e \u0432 \u0434\u043e\u043c\u0435","\u0421\u044c\u0435\u0437\u0434\u0438\u0442\u044c \u0432 \u043e\u0442\u043f\u0443\u0441\u043a","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c\u0441\u044f \u0432 \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435","\u0412\u044b\u043d\u0435\u0441\u0442\u0438 \u043c\u0443\u0441\u043e\u0440","\u041a\u0443\u043f\u0438\u0442\u044c \u0432\u043a\u0443\u0441\u043d\u044f\u0448\u0435\u043a"]),p=Object(f.a)(j,2),h=p[0],x=(p[1],function(){return c("")});return Object(m.jsxs)("form",{className:"todo-creator__form",onSubmit:function(t){t.preventDefault();var o={id:Object(O.a)(),text:a,type:u,completed:!1};""!==o.text&&s(o),x()},children:[Object(m.jsx)("button",{className:"todo-type-btn",type:"button",value:u,onClick:function(t){"standart"===t.target.value&&b("important"),"important"===t.target.value&&b("very-important"),"very-important"===t.target.value&&b("standart")}}),Object(m.jsx)("input",{type:"text",value:a,onChange:function(t){return c(t.target.value)},autoComplete:"off",placeholder:h[(o=0,e=h.length-1,Math.floor(Math.random()*(e-o+1))+o)]}),Object(m.jsx)("button",{className:"add-todo-btn",type:"submit"})]})}),T=(e(23),function(t){var o=t.closeEditingForm,e=document.querySelector("body");return Object(m.jsx)("div",{className:"backdrop",style:{height:e.scrollHeight},onClick:o})}),g=(e(24),function(t){var o=t.todoText,e=t.handleTodoTextEdit,s=t.closeEditingForm,d=Object(n.useState)(o),i=Object(f.a)(d,2),a=i[0],c=i[1];return Object(m.jsxs)("form",{className:"todo-editor__form",onSubmit:function(t){t.preventDefault(),e(a),s()},children:[Object(m.jsx)("input",{type:"text",value:a,onChange:function(t){return c(t.target.value)},autoComplete:"off",autoFocus:!0}),Object(m.jsx)("button",{className:"edit-todo-btn",type:"submit"})]})}),y=function(t){Object(u.a)(e,t);var o=Object(b.a)(e);function e(){var t;Object(r.a)(this,e);for(var n=arguments.length,s=new Array(n),d=0;d<n;d++)s[d]=arguments[d];return(t=o.call.apply(o,[this].concat(s))).state={todos:[{id:"id-1",text:"\u042d\u0442\u043e \u043e\u0447\u0435\u043d\u044c \u0432\u0430\u0436\u043d\u0430\u044f Todo. \u041e\u0447\u0435\u043d\u044c \u0432\u0430\u0436\u043d\u044b\u0435 Todo \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u044b \u043a\u0440\u0430\u0441\u043d\u044b\u043c \u0446\u0432\u0435\u0442\u043e\u043c \u0438 \u0434\u0432\u0443\u043c\u044f \u0437\u043d\u0430\u043a\u0430\u043c\u0438 \u0432\u043e\u0441\u043a\u043b\u0438\u0446\u0430\u043d\u0438\u044f.",type:"very-important",completed:!1},{id:"id-2",text:"\u042d\u0442\u043e \u0432\u0430\u0436\u043d\u0430\u044f Todo. \u0412\u0430\u0436\u043d\u044b\u0435 Todo \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u044b \u0436\u0435\u043b\u0442\u044b\u043c \u0446\u0432\u0435\u0442\u043e\u043c \u0438 \u043e\u0434\u043d\u0438\u043c \u0437\u043d\u0430\u043a\u043e\u043c \u0432\u043e\u0441\u043a\u043b\u0438\u0446\u0430\u043d\u0438\u044f.",type:"important",completed:!1},{id:"id-3",text:"\u042d\u0442\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f Todo. \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 Todo \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u044b \u0441\u0435\u0440\u044b\u043c \u0446\u0432\u0435\u0442\u043e\u043c.",type:"standart",completed:!1},{id:"id-4",text:"\u042d\u0442\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u0430\u044f Todo. \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 Todo \u043f\u043e\u0434\u0441\u0432\u0435\u0447\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0437\u0435\u043b\u0435\u043d\u044b\u043c \u0446\u0432\u0435\u0442\u043e\u043c \u0438 \u043f\u043e\u043c\u0435\u0447\u0435\u043d\u044b \u0433\u0430\u043b\u043e\u0447\u043a\u043e\u0439.",type:"standart",completed:!0}],todoToUpdateText:"",todoToUpdateId:"",isTodoEditing:!1},t.handleFormSubmit=function(o){return t.setState({todos:[o].concat(Object(c.a)(t.state.todos))})},t.upTodo=function(o){if(0!==o){var e=t.state.todos,n=e[o];e.splice(o,1),e.splice(o-1,0,n),console.log(e),t.setState({todos:e}),localStorage.setItem("todos",JSON.stringify(e))}},t.downTodo=function(o){if(o!==t.state.todos.length-1){var e=t.state.todos,n=e[o];e.splice(o,1),e.splice(o+1,0,n),console.log(e),t.setState({todos:e}),localStorage.setItem("todos",JSON.stringify(e))}},t.handleTodoEdit=function(o,e){return t.setState({todoToUpdateText:o,todoToUpdateId:e,isTodoEditing:!0})},t.handleTodoTextEdit=function(o){t.setState((function(e){return{todos:e.todos.map((function(e){return e.id===t.state.todoToUpdateId?Object(a.a)(Object(a.a)({},e),{},{text:o}):e}))}}))},t.closeEditingForm=function(){return t.setState({isTodoEditing:!1})},t.handleTodoDelete=function(o){t.setState({todos:t.state.todos.filter((function(t){return t.id!==o}))})},t.onTodoClick=function(o){t.setState((function(t){return{todos:t.todos.map((function(t){return t.id===o?Object(a.a)(Object(a.a)({},t),{},{completed:!t.completed}):t}))}}))},t.filterTodos=function(){var o=t.state.todos.filter((function(t){return"very-important"===t.type&&!1===t.completed})),e=t.state.todos.filter((function(t){return"important"===t.type&&!1===t.completed})),n=t.state.todos.filter((function(t){return"standart"===t.type&&!1===t.completed})),s=t.state.todos.filter((function(t){return!0===t.completed}));t.setState({todos:[].concat(Object(c.a)(o),Object(c.a)(e),Object(c.a)(n),Object(c.a)(s))})},t}return Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=JSON.parse(localStorage.getItem("todos"));null!==t&&this.setState({todos:t})}},{key:"componentDidUpdate",value:function(t,o){o.todos!==this.state.todos&&localStorage.setItem("todos",JSON.stringify(this.state.todos)),localStorage.clear()}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j,{todos:this.state.todos,filterTodos:this.filterTodos}),Object(m.jsx)(p,{todos:this.state.todos,children:Object(m.jsx)(h,{todos:this.state.todos,upTodo:this.upTodo,downTodo:this.downTodo,handleTodoEdit:this.handleTodoEdit,handleTodoDelete:this.handleTodoDelete,onTodoClick:this.onTodoClick})}),!this.state.isTodoEditing&&Object(m.jsx)(x,{todos:this.state.todos,handleFormSubmit:this.handleFormSubmit}),this.state.isTodoEditing&&Object(m.jsx)(T,{closeEditingForm:this.closeEditingForm}),this.state.isTodoEditing&&Object(m.jsx)(g,{todoText:this.state.todoToUpdateText,handleTodoTextEdit:this.handleTodoTextEdit,closeEditingForm:this.closeEditingForm})]})}}]),e}(n.Component);i.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(y,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.6b59318d.chunk.js.map